#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;
int n, m;
const int MAX = 100005;
int pre[MAX];
int c[MAX];
 
int find(int x){
	if(pre[x] == x){
		return x;
	}
	return pre[x] = find(pre[x]);
}
 
void unit(int x, int y){
	pre[find(x)] = find(y);
}
 
int init(){
	for(int i = 1; i <= n; i++){
		pre[i] = i;
	}
	memset(c, 0, sizeof(c));
}
 
int main(){
 	int t;
 	cin >> t;
 	for(int k = 1; k <= t; k++){
// 		cin >> n >> m;
 		scanf("%d%d", &n, &m);
 		init();
 		int flag = 1;
 		for(int i = 0; i < m; i++){
 			int a, b;
 			scanf("%d %d", &a, &b);
 			if(c[a] == 0 && c[b] == 0){
 				c[a] = b;
 				c[b] = a;
 			}
 			else if(c[a] && c[b] == 0){
 				unit(c[a], b);
 				c[b] = a;
 			}
 			else if(c[a] == 0 && c[b]){
 				unit(a, c[b]);
 				c[a] = b;
 			}
 			else{
 				unit(a, c[b]);
 				unit(b, c[a]);
 			}
 			if(find(a) == find(b)){
 				flag = 0;
// 				break;
 			}
 		}
 		if(flag == 0){
 			printf("testcase %d:发现同性恋\n", t);
		}
		else{
			printf("testcase %d:没有发现同性恋\n", t);
		}
 	}
 
	return 0;
}
